<!-- Accordeon Liste Message -->
<div class="accordion-item">
    <h2 class="accordion-header" id="headingThree">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseMessage" aria-expanded="false" aria-controls="collapseMessage">
            Liste Message
        </button>
    </h2>
    <div id="collapseMessage" class="accordion-collapse collapse {{ openMessage }}" aria-labelledby="headingThree"
        data-bs-parent="#accordionExample">
        <div class="accordion-body">
            <table class="table table-dark table-hover">
                <thead>
                    <tr>
                        <th class="font-size" scope="col">#</th>
                        <th class="font-size" scope="col">Avatar</th>
                        <th class="font-size" scope="col">Nom</th>
                        <th class="font-size" scope="col">Action</th>
                    </tr>
                </thead>
                <tbody>

                    {{!-- Ouverture de la methode each (boucle) avec le # (Voir le Readme) exploitant les données de mydb en rapport avec les colonnes de la Table Message --}}
                    {{#each messages }}

                    <tr class="table-info">
                        {{!-- Incrémentation Tableau Helpers --}}
                        <th scope="row">{{inc @index}} : {{ this.id }}</th>
                        <td class="pt-0 pb-0 text-left align-middle">
                            <img class="rounded-circle" style="height: 33px;" src="https://picsum.photos/35" alt="">
                        </td>
                        <td class="font-size2">{{ this.nom }}</td>
                        <td>
                            <div>
                                <!-- Bouton Primary open modal vision message -->
                                <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                    data-bs-target="#modalVisionMessage{{ this.id }}">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <!-- Ajout début du Modal Vision du Message dans le bouton Primary -->
                                <div class="modal fade" id="modalVisionMessage{{ this.id }}" tabindex="-1"
                                    aria-labelledby="labelModalVisionMessage" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="labelModalVisionMessage">
                                                    {{ this.nom }}
                                                </h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                    aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <p> {{ this.message }}<br> {{ this.email }} </p>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                    data-bs-dismiss="modal">Quitter</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- / Fin du Modal Vision du Message -->
                            
                                <!-- Bouton DANGER open modal delete message -->
                                <button type="button" class="btn btn-danger" data-bs-toggle="modal"
                                    data-bs-target="#modalDeleteMessage{{ this.id }}">
                                    <i class="far fa-times-circle"></i>
                                </button>
                                <!-- Ajout début du Modal Suppression du Message dans le bouton DANGER -->
                                <div class="modal fade" id="modalDeleteMessage{{ this.id }}" tabindex="-1"
                                    aria-labelledby="labelModalDeleteMessage" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="labelModalDeleteMessage">
                                                    Supprimer Message {{ this.nom }}
                                                </h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                    aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                Etes-vous sûr de vouloir supprimer ce
                                                message ?
                                            </div>
                                            <div class="modal-footer">
                                                {{!-- Methode DELETE : Ne pas oublier le type SUBMIT qui est un
                                                bouton d'envoi qui soumet toutes les valeurs du formulaire
                                                lors de l'envoi à un gestionnaire de formulaire (Server)
                                                validant la balise ouvrante fermante "form" --}}
                                                <form action="/message/{{ this.id }}?_method=DELETE" method="POST">
                                                    <button class="btn btn-secondary"
                                                        data-bs-dismiss="modal">Annuler</button>
                                                    <button type="submit" class="btn btn-primary">Oui</button>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- / Fin du Modal Suppression du Message -->
                            </div>
                        </td>
                    </tr>

                    {{!-- fermeture de la methode each (boucle) avec le slash / (Voir le Readme) --}}
                    {{/each }}

                </tbody>
            </table>
        </div>
    </div>
</div>
<!-- / Accordeon Liste Message -->